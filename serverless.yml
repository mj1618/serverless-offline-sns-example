
service: sns-test

provider:
  name: aws
  runtime: nodejs18.x
  timeout: 120

functions:
  pong:
    handler: handler.pong
    events:
      - sns: test-topic
  ping:
    handler: handler.ping
    events:
      - http:
          path: ping
          method: get
          cors: true
plugins:
  - serverless-offline-sns
  - serverless-offline
  - serverless-localstack
custom:
  serverless-offline-sns:
    port: 4002
    debug: true
  localstack:
    host: http://127.0.0.1
    edgePort: 4566 
    networks: 
      - serverless-offline-sns-example
    lambda:
      mountCode: True
